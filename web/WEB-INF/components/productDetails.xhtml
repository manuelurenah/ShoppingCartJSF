<ui:component xmlns="http://www.osgi.org/xmlns/scr/v1.0.0"
              xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
              xmlns:h="http://xmlns.jcp.org/jsf/html"
              xmlns:p="http://primefaces.org/ui"
              xmlns:b="http://bootsfaces.net/ui"
              xmlns:f="http://xmlns.jcp.org/jsf/core">

    <f:metadata>
        <f:viewParam name="imgName" value="#{productDetail.imgName}" />
        <f:viewParam name="productId" value="#{productDetail.productId}" />
    </f:metadata>

    <h:form>
        <b:container layout="fluid">
            <b:row>
                <b:column colXs="3" rendered="#{not empty productDetail.p.images}">
                    <p:graphicImage value="#{productsBean.renderProductImage()}" style="display:flex;align-self:center;margin:auto;width: 100%;">
                        <f:param name="imgName" value="#{productDetail.imgName}" />
                    </p:graphicImage>
                </b:column>
                <b:column colXs="#{empty productDetail.p.images ? 9 : 6}">
                    <p>Product ID: #{productDetail.productId}</p>
                    <h3 class="text-justify">#{productDetail.p.name}</h3>
                    <h4 class="text-justify">#{msg.products_form_product_price} $#{productDetail.p.price}</h4>
                    <p class="text-justify">#{productDetail.p.description}</p>
                </b:column>
                <b:column colXs="2">
                    <h:outputLabel for="qtyRange" value="#{msg.products_form_product_qty}" />
                    <p:selectOneMenu id="qtyRange" value="#{productDetail.selectedQty}">
                        <f:selectItems value="#{productDetail.qtyRange}" />
                    </p:selectOneMenu>
                    <b:commandButton look="success" action="#{productDetail.processItemToCart(productDetail.p)}"
                                     value="#{msg.add_message} #{msg.to_message} #{msg.cart_title}" icon="plus"/>
                </b:column>
            </b:row>
            <b:row rendered="#{not empty productDetail.p.images}">
                <h3>#{msg.product_uploaded_images}</h3>
                <ui:repeat value="#{productDetail.p.images}" var="img">
                    <b:column colXs="12" colSm="4" style="overflow:hidden; height:200px; text-align: center; padding-bottom: 10px;">
                        <p:graphicImage value="#{productsBean.renderProductImage()}" style="margin:auto;width: 100%;">
                            <f:param name="imgName" value="#{img.fileName}" />
                            <f:param name="productId" value="#{productDetail.p.id}" />
                        </p:graphicImage>
                    </b:column>
                </ui:repeat>
            </b:row>
            <b:row>
                <p:separator />
            </b:row>
        </b:container>
    </h:form>

</ui:component>